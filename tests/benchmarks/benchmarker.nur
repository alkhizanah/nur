time = import("time")

return {
    "run": fn label, benchmark {
        start_ns = time.now_ns()

        benchmark()

        end_ns = time.now_ns()

        elapsed_ns = end_ns - start_ns
        elapsed_ms = elapsed_ns / 1000000

        println(label + ":", elapsed_ms, "ms")
    },
}

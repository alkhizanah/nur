tester = import("tester.nur")

tester.run("manipulate the last element with negative indexing", fn {
    arr = [0, 1, 2, 3, 4, 5]

    arr[-1] = 6

    return arr[5] == 6
})

tester.run("swap two elements", fn {
    arr = [0, 1, 2, 3, 4, 6]

    temp = arr[0]
    arr[0] = arr[-1]
    arr[-1] = temp

    if arr[0] != 6 {
        return false
    }

    return arr[-1] == 0
})

tester.run("copy elements from array to another array", fn {
    arr = [6, 1, 2, 3, 4, 0]

    zero_arr = [0, 0, 0, 0, 0, 0]

    i = -1

    while (i += 1) < len(arr) {
        arr[i] = zero_arr[i]
    }

    return arr == zero_arr
})

tester.run("duplicate an array using addition", fn {
    arr = [0, 0, 0, 0, 0, 0]

    arr_copied = arr + []

    passed = arr == arr_copied

    arr[0] = 5

    if arr == arr_copied {
        passed = false
    }

    return passed
})

tester.run("duplicate an array using slicing", fn {
    arr = [0, 0, 0, 0, 0, 0]

    arr_copied = arr[:]

    passed = arr == arr_copied

    arr[0] = 5

    if arr == arr_copied {
        passed = false
    }

    return passed
})

tester.run("slice an array with 2:4", fn {
    arr = [0, 1, 2, 3, 4, 5]

    arr_slice = arr[2:4]

    return arr_slice == [2, 3]
})

tester.run("slice an array with :2", fn {
    arr = [0, 1, 2, 3, 4, 5]

    arr_slice = arr[:2]

    return arr_slice == [0, 1]
})

tester.run("slice an array with 2:", fn {
    arr = [0, 1, 2, 3, 4, 5]

    arr_slice = arr[2:]

    return arr_slice == [2, 3, 4, 5]
})

tester.end()
